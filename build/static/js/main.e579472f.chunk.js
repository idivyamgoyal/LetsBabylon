(this.webpackJsonpletsbabylon=this.webpackJsonpletsbabylon||[]).push([[0],{49:function(e,t,a){},50:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var s=a(18),n=a.n(s),i=a(43),c=a.n(i),o=(a(49),a(50),a(33)),l=a.n(o),r=a(17),d=a(9);const m=e=>{const t=Object(s.useRef)(null),{antialias:a,engineOptions:n,adaptToDeviceRatio:i,sceneOptions:c,onRender:o,onSceneReady:l,image:m,...h}=e;return Object(s.useEffect)((()=>{if(t.current){const s=new r.b(t.current,a,n,i),l=new r.e(s,c);l.isReady()?e.onSceneReady(l,e.image):l.onReadyObservable.addOnce((t=>e.onSceneReady(t,e.image))),s.runRenderLoop((()=>{"function"===typeof o&&o(l),l.render()}));const d=()=>{l.getEngine().resize()};return window&&window.addEventListener("resize",d),()=>{l.getEngine().dispose(),window&&window.removeEventListener("resize",d)}}})),Object(d.jsx)("canvas",{ref:t,...h})};let h;var j={onSceneReady:(e,t)=>{const a=new r.a("Camera",Math.PI/2,Math.PI/2,2,new r.h(0,4.5,-15),e);a.setTarget(r.h.Zero());const s=e.getEngine().getRenderingCanvas();a.attachControl(s,!0),new r.c("light",new r.h(0,.5,.5),e).intensity=10,h=r.d.CreateBox("box",{size:4},e);var n=new r.f("material",e);n.diffuseTexture=new r.g(t,e),h.position.y=1,h.material=n},onRender:e=>{if(void 0!==h){var t=e.getEngine().getDeltaTime();const a=5;h.rotation.y+=a/60*Math.PI*2*(t/1e3)}}};const b="pk.eyJ1IjoiZGl2eWFtZ295YWwiLCJhIjoiY2txZmJxNjc3MmJocDMybXZ1cDQ0cjBkcCJ9.AqDvkF4lnM0OgBlwEGdYiA";var y,p=a(44),g=a.n(p);l.a.accessToken=b;class u extends n.a.Component{constructor(e){super(e),this.mapFunction=()=>{(y=new l.a.Map({container:this.mapContainer.current,style:"mapbox://styles/mapbox/outdoors-v11",zoom:this.state.zoom,center:[this.state.lng,this.state.lat],preserveDrawingBuffer:!0})).resize()},this.handleClick=()=>{document.getElementsByClassName("mapSelector")[0].style.display="none",document.getElementsByClassName("mapBtn")[0].style.display="block",this.setState({image:y.getCanvas().toDataURL()})},this.setCity=e=>{this.setState({city:e.target.value})},this.onSubmit=async e=>{e.preventDefault();try{const e=await g.a.get("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(this.state.city,".json?access_token=").concat(b)),t=e.data.features[0].center[1],a=e.data.features[0].center[0];this.setState({lat:t,lng:a,city:""},(()=>{console.log(this.state.lat,this.state.lng),y.flyTo({center:[this.state.lng,this.state.lat],essential:!0})}))}catch(t){console.log("Error in location: "+t),alert("Invalid Search!")}},this.showSelector=()=>{document.getElementsByClassName("mapSelector")[0].style.display="block",y.resize(),document.getElementsByClassName("mapBtn")[0].style.display="none"},this.hideMap=()=>{document.getElementsByClassName("mapSelector")[0].style.display="none",document.getElementsByClassName("mapBtn")[0].style.display="block"},this.state={lat:28.6139391,lng:77.2090212,zoom:9,city:"",image:""},this.mapContainer=n.a.createRef(),this.mapSnap=n.a.createRef()}componentDidMount(){this.mapFunction()}render(){return Object(d.jsxs)("div",{className:"fullBody",children:[Object(d.jsxs)("div",{className:"mainDiv",children:[Object(d.jsxs)("div",{className:"header",children:[Object(d.jsx)("span",{className:"headerText-left",children:Object(d.jsx)("a",{href:".",children:"Lets Babylon!"})}),Object(d.jsx)("a",{href:"https://divyamgoyal.com",children:Object(d.jsx)("img",{src:"/assets/favicons/favicon.ico",className:"headerText-right",alt:"DivyamGoyal"})})]}),Object(d.jsx)("div",{className:"appBody",children:Object(d.jsxs)("div",{ref:this.mapSnap,id:"screenshotPlaceholder",children:[Object(d.jsx)(m,{antialias:!0,onSceneReady:j.onSceneReady,onRender:j.onRender,image:this.state.image,id:"my-canvas"}),Object(d.jsxs)("div",{className:"mapSelector",children:[Object(d.jsxs)("div",{className:"searchForm",children:[Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("button",{className:"btn btn-danger",onClick:this.handleClick,children:"Take Screenshot"})}),Object(d.jsxs)("form",{className:"form-inline",onSubmit:this.onSubmit,children:[Object(d.jsx)("div",{className:"form-group mx-sm-3 mb-2",children:Object(d.jsx)("input",{className:"form-control",placeholder:"Enter the City Name",onChange:this.setCity,value:this.state.city})}),Object(d.jsx)("input",{className:"btn btn-success mb-2",type:"submit",value:"Search"})]})]}),Object(d.jsx)("div",{ref:this.mapContainer,className:"map-container"}),Object(d.jsx)("div",{className:"closeMap",children:Object(d.jsx)("button",{className:"btn btn-warning circleBtn",onClick:this.hideMap,children:"X"})})]}),Object(d.jsx)("div",{className:"mapBtn",children:Object(d.jsx)("button",{className:"btn btn-light",onClick:this.showSelector,children:"Map"})})]})})]}),Object(d.jsx)("div",{className:"myFooter",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("a",{href:"https://divyamgoyal.com",children:Object(d.jsx)("img",{src:"/assets/favicons/favicon-32x32.png",className:"headerText-right",alt:"DivyamGoyal"})}),Object(d.jsxs)("div",{children:["Developed by ",Object(d.jsx)("a",{href:"https://divyamgoyal.com",children:"Divyam Goyal"}),"."]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("a",{href:"https://github.com/idivyamgoyal",children:"Github"})," | ",Object(d.jsx)("a",{href:"https://linkedin.com/in/idivyamgoyal",children:"LinkedIn"})," | ",Object(d.jsx)("a",{href:"mailto:divyamgoyal9930@gmail.com",children:"Mail"})]})]})})]})}}a(71);var v=function(){return Object(d.jsx)(u,{})};var x=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,73)).then((({getCLS:t,getFID:a,getFCP:s,getLCP:n,getTTFB:i})=>{t(e),a(e),s(e),n(e),i(e)}))};c.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(v,{})}),document.getElementById("root")),x()}},[[72,1,2]]]);
//# sourceMappingURL=main.e579472f.chunk.js.map